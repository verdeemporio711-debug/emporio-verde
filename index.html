<script>
const WHATS_NUMBER = "5512997125241";

const quiz = [
  {
    question: "Como vocÃª se descreve?",
    answers: [
      { text: "Cheio de energia e presenÃ§a", type: "dipladenia" },
      { text: "SensÃ­vel e intenso", type: "lirio" },
      { text: "Tranquilo e prÃ¡tico", type: "zamioculca" },
      { text: "Elegante e exigente", type: "orquidea" }
    ]
  },
  {
    question: "Qual ambiente combina mais com vocÃª?",
    answers: [
      { text: "Sol pleno e espaÃ§os abertos", type: "dipladenia" },
      { text: "Bem iluminado, sem sol direto", type: "lirio" },
      { text: "Luz indireta e pouca interferÃªncia", type: "zamioculca" },
      { text: "Iluminado e bem cuidado", type: "orquidea" }
    ]
  },
  {
    question: "Como vocÃª reage quando algo sai do controle?",
    answers: [
      { text: "Sigo firme, sou resistente", type: "dipladenia" },
      { text: "Demonstro logo o problema", type: "lirio" },
      { text: "Prefiro nÃ£o me estressar", type: "zamioculca" },
      { text: "Espero o momento certo", type: "orquidea" }
    ]
  },
  {
    question: "Como vocÃª prefere ser lembrado?",
    answers: [
      { text: "Chamativo e florido", type: "dipladenia" },
      { text: "Expressivo e sensÃ­vel", type: "lirio" },
      { text: "Discreto e resistente", type: "zamioculca" },
      { text: "Bonito e sofisticado", type: "orquidea" }
    ]
  }
];

let index = 0;
let score = { dipladenia:0, lirio:0, zamioculca:0, orquidea:0 };

function updateProgress(){
  document.getElementById("progressBar").style.width =
    (index / quiz.length) * 100 + "%";
}

function showQuestion(){
  updateProgress();
  document.getElementById("questionText").innerText = quiz[index].question;
  const answersDiv = document.getElementById("answers");
  answersDiv.innerHTML = "";
  quiz[index].answers.forEach(a=>{
    const btn = document.createElement("button");
    btn.innerText = a.text;
    btn.onclick = ()=>selectAnswer(a.type);
    answersDiv.appendChild(btn);
  });
}

function selectAnswer(type){
  score[type]++;
  index++;
  if(index < quiz.length){
    showQuestion();
  } else {
    showResult();
  }
}

function showResult(){
  updateProgress();
  document.getElementById("quiz").style.display="none";
  document.getElementById("result").style.display="block";

  let result = Object.keys(score).reduce((a,b)=>score[a]>score[b]?a:b);

  const titles = {
    dipladenia: "ğŸŒº VocÃª seria uma DipladÃªnia",
    lirio: "ğŸ¤ VocÃª seria um LÃ­rio-da-paz",
    zamioculca: "ğŸŒ¿ VocÃª seria uma Zamioculca",
    orquidea: "ğŸŒ¸ VocÃª seria uma OrquÃ­dea"
  };

  const texts = {
    dipladenia: "VocÃª Ã© pura energia e presenÃ§a! ğŸŒ Assim como a dipladÃªnia, vocÃª gosta de luz, de vida e de ambientes alegres. Ã‰ uma pessoa que chama atenÃ§Ã£o naturalmente, transmite entusiasmo e deixa qualquer espaÃ§o mais bonito sÃ³ de estar ali. Uma planta cheia de cor, forÃ§a e personalidade â€” igual a vocÃª!",
    lirio: "VocÃª Ã© sensÃ­vel, intenso e muito verdadeiro ğŸ¤ Como o lÃ­rio-da-paz, vocÃª sente tudo com profundidade e valoriza equilÃ­brio e cuidado. Quando estÃ¡ bem, ilumina o ambiente; quando algo nÃ£o vai bem, percebe rÃ¡pido. Uma planta delicada, elegante e cheia de significado â€” perfeita para quem sente o mundo de forma especial.",
    zamioculca: "VocÃª Ã© prÃ¡tico, tranquilo e resistente ğŸŒ¿ A zamioculca combina com quem gosta de simplicidade, estabilidade e zero drama. VocÃª se adapta fÃ¡cil, Ã© confiÃ¡vel e forte, mesmo sem fazer alarde. Uma planta moderna, discreta e cheia de charme â€” assim como seu jeito de ser.",
    orquidea: "VocÃª Ã© sofisticado, elegante e Ãºnico ğŸŒ¸ Como a orquÃ­dea, vocÃª chama atenÃ§Ã£o pela beleza e pelos detalhes. Valoriza qualidade, cuidado e tudo que tem significado. Pode atÃ© parecer exigente, mas Ã© justamente isso que torna sua presenÃ§a tÃ£o especial. Uma planta admirada, refinada e inesquecÃ­vel â€” igual a vocÃª."
  };

  document.getElementById("plantTitle").innerText = titles[result];
  document.getElementById("plantText").innerText = texts[result];

  const msg = encodeURIComponent(
    "Oi! Fiz o quiz *Qual planta vocÃª seria?* ğŸŒ¿ e meu resultado foi: " +
    titles[result] +
    ". Gostaria de saber valores e disponibilidade ğŸ˜Š"
  );

  document.getElementById("whatsLink").href =
    "https://wa.me/" + WHATS_NUMBER + "?text=" + msg;
}

showQuestion();
</script>
